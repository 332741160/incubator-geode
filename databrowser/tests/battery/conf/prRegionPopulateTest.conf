INCLUDE $JTESTS/hydraconfig/hydraparams1.inc;
INCLUDE $JTESTS/hydraconfig/gemfireprms.inc;
INCLUDE $JTESTS/hydraconfig/topology_2.inc;

hydra.Prms-testDescription = "Test to start required no of servers ,populate different kind of regions and subRegions data.";

hydra.Prms-totalTaskTimeSec 			= 600;
hydra.Prms-maxResultWaitSec 			= 650;

//For starting the agent 
hydra.AdminPrms-names				= admin;
hydra.AdminPrms-distributedSystem		= ds;
hydra.AgentPrms-names				= agent1;
hydra.AgentPrms-adminName			= admin;

hydra.BridgePrms-names       	         	= bridge;
//hydra.BridgePrms-notifyBySubscription 		= true;

hydra.CachePrms-names				= bridge agent1;
hydra.ConfigPrms-cacheConfig      		= bridge;
hydra.ConfigPrms-bridgeConfig     		= bridge;
hydra.ConfigPrms-agentConfig			= agent1;


hydra.GemFirePrms-useLocator                    = true;

hydra.GemFirePrms-names				= fcn "hydra.TestConfigFcns.generateNames(\"${A}gemfire\", ${${A}Hosts})" ncf
			                          fcn "hydra.TestConfigFcns.generateNames(\"${B}gemfire\", ${${B}Hosts})" ncf;
						  

hydra.GemFirePrms-useLocator			= fcn "hydra.TestConfigFcns.duplicate(\"true\",    ${${A}Hosts})" ncf
                                                  fcn "hydra.TestConfigFcns.duplicate(\"true\",    ${${B}Hosts})" ncf;
                                                  

hydra.GemFirePrms-enableMcast		        = fcn "hydra.TestConfigFcns.duplicate(\"false\",    ${${A}Hosts})" ncf
                                                  fcn "hydra.TestConfigFcns.duplicate(\"false\",    ${${B}Hosts})" ncf;   
                                                  

hydra.GemFirePrms-distributedSystem		= fcn "hydra.TestConfigFcns.duplicate(\"ds\",    ${${A}Hosts})" ncf
		                                  fcn "hydra.TestConfigFcns.duplicate(\"ds\",    ${${B}Hosts})" ncf;
					          


hydra.log.LogPrms-file_logLevel			= fine;

//hydra.HostPrms-hostNames			= fcn "hydra.TestConfigFcns.duplicate(\"halibut\",  ${${A}Hosts})" ncf
//						  fcn "hydra.TestConfigFcns.duplicate(\"halibut\",  ${${B}Hosts})" ncf;



hydra.RegionPrms-names                  	= serverRegion	serverRegion1	serverRegion2	serverRegion3	serverRegion4;	
hydra.RegionPrms-regionName     		= Employee	CustomerInvoice Shipment	Customer	Order;
hydra.RegionPrms-interestPolicy         	= All		All		cachecontent	All		All;
hydra.RegionPrms-scope                  	= default	default		local		default		dack;
hydra.RegionPrms-dataPolicy     		= partition	partition	empty		normal		replicate;
hydra.RegionPrms-partitionName  		= pr1		pr2		none		none		none;
hydra.RegionPrms-multicastEnabled 		= true		true		true		true		true;
hydra.RegionPrms-statisticsEnabled		= true;

hydra.PartitionPrms-names       		= pr1 		pr2;

hydra.VmPrms-type                       	= fcn "hydra.TestConfigFcns.duplicate(\"server\",  ${bridgeHosts})" ncf;


hydra.VmPrms-extraClassPaths        		= $GEMFIRE/lib/antlr.jar 
						  $GEMFIRE/lib/gemfire.jar
						  $GEMFIRE/lib/commons-logging.jar
                                                  $GEMFIRE/lib/commons-modeler-2.0.jar
						  $GEMFIRE/lib/mx4j.jar
                                                  $GEMFIRE/lib/mx4j-remote.jar
                                                  $GEMFIRE/lib/mx4j-tools.jar
                                                  $GEMFIRE/lib/mail.jar
                                                  $GEMFIRE/lib/security.jar;
                                                                                                
// Server Entities Setup
admin.jmx.RecyclePrms-numberOfEntitiesInRegion	= 200;
admin.jmx.RecyclePrms-interestResultPolicy 	= none;
admin.jmx.RecyclePrms-regionDepth          	= 3;   // for partition region no subregions allowed



  						 					          					
						    						  						  						    						  				
THREADGROUP bridgeServer
    totalThreads = ${bridgeHosts}
    totalVMs = ${bridgeHosts}
    clientNames  = fcn "hydra.TestConfigFcns.generateNames(\"bridge\", ${bridgeHosts}, true)" ncf;

THREADGROUP agentForDS1
    totalThreads = ${agentHosts}
    totalVMs = ${agentHosts}
    clientNames  = fcn "hydra.TestConfigFcns.generateNames(\"agent\", ${agentHosts}, true)" ncf;
   

INITTASK  taskClass = admin.jmx.JMXHelper
	  taskMethod = startJMXAgent
	  threadgroups = agentForDS1
          runMode = always
      	  ;

INITTASK  taskClass = com.gemstone.databrowser.CustomDataGenerator
          taskMethod = startServerCache
          threadGroups = bridgeServer	  
          ;
	  
INITTASK  taskClass = com.gemstone.databrowser.MultipleRegionsDataGenerator
          taskMethod = populateEmployeeRegion 
          hydra.ConfigPrms-regionConfig	= serverRegion	
          threadGroups = bridgeServer          
          ; 
                                        
INITTASK  taskClass = com.gemstone.databrowser.MultipleRegionsDataGenerator
          taskMethod = populateShipmentRegion          	  
          hydra.ConfigPrms-regionConfig	= serverRegion2
          threadGroups = bridgeServer
          ; 

INITTASK  taskClass = com.gemstone.databrowser.MultipleRegionsDataGenerator
          taskMethod = populateCustomerRegion
          hydra.ConfigPrms-regionConfig	= serverRegion3	
          threadGroups = bridgeServer
          ;           
         
INITTASK  taskClass = com.gemstone.databrowser.MultipleRegionsDataGenerator
          taskMethod = populateOrderRegion          
          hydra.ConfigPrms-regionConfig	= serverRegion4
          threadGroups = bridgeServer          
          ; 

TASK      taskClass = com.gemstone.databrowser.MultipleRegionsDataGenerator
          taskMethod = populateCustomerInvoice
          hydra.ConfigPrms-regionConfig	= serverRegion1	
          threadGroups = bridgeServer
          ; 
         
          
